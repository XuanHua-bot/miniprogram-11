<view class="safe-top"></view>
<view class="custom-nav">
  <view class="nav-content">
    <view class="nav-title">我的购物车</view>
  </view>
</view>
<view class="container" style="padding-top: 108rpx; padding-bottom: 40rpx;">
  <scroll-view scroll-y style="height:calc(100vh - 220rpx);">
    <block wx:if="{{cart.length}}">
      <block wx:for="{{cart}}" wx:key="_id">
        <view class="card" bindtap="onProductTap" data-id="{{item._id}}">
          <image src="{{item.images && item.images.length ? item.images[0] : '/icons/market.png'}}" mode="aspectFill" style="width: 100%; height: 200rpx; border-radius: 8rpx;" />
          <view class="title">{{item.title}}</view>
          <view class="price">￥{{item.price}}</view>
          <view class="tag tag-primary">{{item.category}}</view>
          <view class="subtitle">{{item.description}}</view>
          <button class="btn btn-outline" bindtap="onRemove" data-id="{{item._id}}">移除</button>
        </view>
      </block>
    </block>
    <block wx:else>
      <view style="text-align:center;color:#ccc;margin-top:100rpx;">购物车为空</view>
    </block>
  </scroll-view>
</view> 